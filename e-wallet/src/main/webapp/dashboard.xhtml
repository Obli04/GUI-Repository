<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Dashboard - CashHive</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&amp;display=swap" rel="stylesheet"/>
    <h:outputStylesheet library="styles" name="dashboard.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</h:head>
<h:body>
    <f:metadata>
        <f:event type="preRenderView" listener="#{userBean.refreshUserData}"/>
    </f:metadata>
    
    <div class="main-navbar">
        <p:menubar>
            <p:menuitem value="Dashboard" outcome="dashboard.xhtml"/>
            <p:menuitem value="Deposit Money" outcome="deposit.xhtml"/>
            <p:menuitem value="Withdraw Money" outcome="withdraw.xhtml"/>
            <p:menuitem value="Budget" outcome="budget.xhtml"/>
            <p:menuitem value="Transaction History" outcome="transactions.xhtml"/>
            <p:menuitem value="Send/Receive Money" outcome="transfer.xhtml"/>
            <p:menuitem value="PiggyBank" outcome="piggybank.xhtml"/>
            <p:menuitem value="Logout" action="#{userBean.logout}" ajax="false"/>
        </p:menubar>
    </div>

    <div class="dashboard-content">
        <div class="user-info">
            <h1>Hello, #{userBean.firstName} #{userBean.secondName}</h1>
            <p class="user-detail">Email: #{userBean.email}</p>
            <p class="user-detail">IBAN: #{userBean.currentUser.iban}</p>
        </div>

        <p:card title="Account Overview" styleClass="dashboard-card p-shadow-4" style="margin-top: 20px;">
            <p:panelGrid columns="2" styleClass="dashboard-grid p-fluid">
                <p:outputLabel value="Balance:" styleClass="dashboard-label"/>
                <p:outputLabel value="#{userBean.currentUser.balance} CZK" styleClass="dashboard-value"/>
                <p:outputLabel value="Budget:" styleClass="dashboard-label"/>
                <p:outputLabel value="#{userBean.currentUser.budget} CZK" styleClass="dashboard-value"/>
                <p:outputLabel value="Piggy Bank:" styleClass="dashboard-label"/>
                <p:outputLabel value="#{userBean.currentUser.piggyBank} CZK" styleClass="dashboard-value"/>
            </p:panelGrid>
        </p:card>

        <!-- Uncomment and configure the chart if needed -->
        <!-- <p:chart type="line" model="#{transactionBean.transactionModel}" style="width:100%;height:400px;"/> -->
    </div>
</h:body>
</html>